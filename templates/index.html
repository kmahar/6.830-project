<html>
	<title></title>
	<head>
		<h1></h1>
		<script src='https://code.jquery.com/jquery-3.1.1.js'></script>
		<script src="http://cdnjs.cloudflare.com/ajax/libs/d3/3.5.3/d3.min.js"></script>
		<script src="http://cdnjs.cloudflare.com/ajax/libs/topojson/1.6.9/topojson.min.js"></script>
		<script src="../static/js/datamaps.usa.min.js"></script>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js""></script>
		<link rel="stylesheet" href="../static/css/jumbotron-narrow.css">
		<link rel="stylesheet" href="../static/css/main.css">
		<link rel="stylesheet" href="../static/css/slider.css">
		<script src='../static/js/index.js'></script>
	</head>
	<body>
		<div class="container" style='width: 1000px;'>
			<div class="header clearfix">
				<nav>
					<ul class="nav nav-pills pull-right">
						<li role="presentation" class="active"><a href="#">Home</a></li>
<!-- 						<li role="presentation"><a href="#">About</a></li>
						<li role="presentation"><a href="#">Contact</a></li> -->
					</ul>
				</nav>
				<h3 class="text-muted">Hashtag Sentiments</h3>
			</div>
			<div id="container" style="position: relative; width: 1000px; height: 600px;">
				<div id="date">
      <p>12 months ending on:</p>
      <p id="month"></p>
    </div>
    <div id="play"></div>
    <div id="slider-container">
      <div id="slider-div"></div>
      <div id="slider-probe">
      <div id="map-container"></div>
			</div>
			<svg width="960" height="500"></svg>
			<footer class="footer" style='text-align:center;'>
				<p>&copy; 2016 Michael Belland, Kaitlin Mahar, Marie Shi Feng</p>
			</footer>
		</div>
	</body>
	<script>
	var svg = d3.select("svg"),
    margin = {right: 50, left: 50},
    width = +svg.attr("width") - margin.left - margin.right,
    height = +svg.attr("height");

	var hueActual = 0,
    hueTarget = 70,
    hueAlpha = 0.2,
    hueTimer = d3.timer(hueTween);

	var x = d3.scale.linear()
    .domain([0, 180])
    .range([0, width])
    .clamp(true);

	var slider = svg.append("g")
    .attr("class", "slider")
    .attr("transform", "translate(" + margin.left + "," + height / 2 + ")");

	slider.append("line")
    .attr("class", "track")
    .attr("x1", x.range()[0])
    .attr("x2", x.range()[1])
  .select(function() { return this.parentNode.appendChild(this.cloneNode(true)); })
    .attr("class", "track-inset")
  .select(function() { return this.parentNode.appendChild(this.cloneNode(true)); })
    .attr("class", "track-overlay")
    .call(d3.drag()
        .on("start.interrupt", function() { slider.interrupt(); })
        .on("start drag", function() { hue(x.invert(d3.event.x)); }));

	slider.insert("g", ".track-overlay")
    .attr("class", "ticks")
    .attr("transform", "translate(0," + 18 + ")")
  .selectAll("text")
  .data(x.ticks(10))
  .enter().append("text")
    .attr("x", x)
    .attr("text-anchor", "middle")
    .text(function(d) { return d + "Â°"; });

	var handle = slider.insert("circle", ".track-overlay")
    .attr("class", "handle")
    .attr("r", 9);

	function hue(h) {
	  hueTarget = h;
	  hueTimer.restart(hueTween);
	}

	function hueTween() {
	  var hueError = hueTarget - hueActual;
	  if (Math.abs(hueError) < 1e-3) hueActual = hueTarget, hueTimer.stop();
	  else hueActual += hueError * hueAlpha;
	  handle.attr("cx", x(hueActual));
	  svg.style("background-color", d3.hsl(hueActual, 0.8, 0.8));
	}
</script>
</html>